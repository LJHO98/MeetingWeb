<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragment/layout}">
<head>
    <meta charset="UTF-8">
    <title>로그인</title>
    <link rel="stylesheet" th:href="@{/css/login.css}"><!-- Thymeleaf 문법 사용 -->
    <link rel="stylesheet" href="/css/searchIdModal.css">

    <script src="/js/searchIdModal.js"></script>
</head>
<body>
<div layout:fragment="body" id="main">
    <div id="loginText">로그인</div>
    <form action="/login" method="post" class="login-form">
        <div class="input-container">
            <label for="userName"></label>
            <input type="text" id="userName" name="userName" placeholder="아이디" required/>
            <label for="password"></label>
            <input type="password" id="password" name="password" placeholder="비밀번호" required/>
            <button type="submit" class="button">로그인</button>
        </div>
    </form>
    <div class="link-container">
        <a href="#" class="link" th:data-id="${userDto.userName}" onclick="openModal(this)">아이디 찾기</a>
        <a href="" class="link">비밀번호 찾기</a>
        <a href="" class="link">회원가입</a>
    </div>

    <div id="search_Id" class="modal">
        <!-- 첫 번째 모달 -->
        <div class="modal_content1">
            <span class="close" onclick="closeModal()"><i class="bi bi-x"></i></span>
            <h2>아이디 찾기</h2>
            <form id="searchIdForm" method="post" action="/login/searchId">
                이름 <input type="text" id="name"><br>
                이메일 <input type="email" id="email">
                <button type="button" id="register">인증번호</button><br>
                인증번호 <input type="text" id="number">
                <button type="button" id="certification">인증</button><br>
                <button type="button" onclick="nextModal()">다음</button>
            </form>
        </div>

        <!-- 두 번째 모달 -->
        <div class="modal_content2">
            <form id="searchIdFormNext" method="post" action="/login/searchId">
                <h2>고객님의 정보와 일치하는 아이디입니다</h2>
                <p th:text="${userDto.userName}"></p>
                <button type="button" onclick="closeModal()">닫기</button>
            </form>
        </div>
    </div>
</div>

</body>
</html>
